# TreasuryContracts
  Treasury DAO System
    TreasuryContract
      ✔ Should allow deposits
      ✔ Should allow deposits via receive function
      ✔ Should execute carbon credit purchase when called by DAO
      ✔ Should not allow non-DAO to execute carbon credit purchase
      ✔ Should handle emergency withdrawal with delay
      ✔ Should allow cancelling emergency withdrawal
    ValidatorDAO
      ✔ Should allow validators to create proposals
      ✔ Should not allow creating proposals exceeding treasury balance
      ✔ Should not allow non-validators to create proposals
      ✔ Should allow validators to vote on proposals
      ✔ Should not allow double voting
      ✔ Should execute successful proposals with quorum
      ✔ Should not execute proposals without quorum
      ✔ Should not execute failed proposals
      ✔ Should not execute proposals before voting period ends
      ✔ Should add and remove validators properly
      ✔ Should not allow removing the last validator
      ✔ Should add and manage carbon credit options
      ✔ Should return active carbon credit options
      ✔ Should allow setting governance parameters
      ✔ Should get proposal voting statistics
    Integration Tests
      ✔ Should complete full workflow: deposit → proposal → vote → execute → purchase
      ✔ Should handle multiple proposals and purchases


  23 passing (502ms)

··························································································································
|  Solidity and Network Configuration                                                                                    │
·····································|·················|···············|·················|································
|  Solidity: 0.8.28                  ·  Optim: false   ·  Runs: 200    ·  viaIR: false   ·     Block: 30,000,000 gas     │
·····································|·················|···············|·················|································
|  Methods                                                                                                               │
·····································|·················|···············|·················|················|···············
|  Contracts / Methods               ·  Min            ·  Max          ·  Avg            ·  # calls       ·  usd (avg)   │
·····································|·················|···············|·················|················|···············
|  TreasuryContract                  ·                                                                                   │
·····································|·················|···············|·················|················|···············
|      cancelEmergencyWithdraw       ·              -  ·            -  ·         29,061  ·             1  ·           -  │
·····································|·················|···············|·················|················|···············
|      deposit                       ·              -  ·            -  ·         47,508  ·            20  ·           -  │
·····································|·················|···············|·················|················|···············
|      executeCarbonCreditPurchase   ·              -  ·            -  ·        222,092  ·             1  ·           -  │
·····································|·················|···············|·················|················|···············
|      executeEmergencyWithdraw      ·              -  ·            -  ·         42,606  ·             2  ·           -  │
·····································|·················|···············|·················|················|···············
|      requestEmergencyWithdraw      ·              -  ·            -  ·         52,511  ·             3  ·           -  │
·····································|·················|···············|·················|················|···············
|      updateDAOContract             ·         58,903  ·       58,915  ·         58,913  ·            23  ·           -  │
·····································|·················|···············|·················|················|···············
|  ValidatorDAO                      ·                                                                                   │
·····································|·················|···············|·················|················|···············
|      addCarbonCreditOption         ·        147,722  ·      209,848  ·        175,997  ·             5  ·           -  │
·····································|·················|···············|·················|················|···············
|      addValidator                  ·         78,035  ·       95,147  ·         83,583  ·            71  ·           -  │
·····································|·················|···············|·················|················|···············
|      createProposal                ·        225,799  ·      332,709  ·        260,042  ·            12  ·           -  │
·····································|·················|···············|·················|················|···············
|      deactivateCarbonCreditOption  ·              -  ·            -  ·         28,051  ·             3  ·           -  │
·····································|·················|···············|·················|················|···············
|      executeProposal               ·         64,603  ·      325,953  ·        218,286  ·             7  ·           -  │
·····································|·················|···············|·················|················|···············
|      removeValidator               ·         35,144  ·       35,153  ·         35,151  ·             4  ·           -  │
·····································|·················|···············|·················|················|···············
|      setMinimumApprovalPercentage  ·              -  ·            -  ·         29,253  ·             1  ·           -  │
·····································|·················|···············|·················|················|···············
|      setMinimumVotingQuorum        ·              -  ·            -  ·         29,231  ·             1  ·           -  │
·····································|·················|···············|·················|················|···············
|      setVotingPeriod               ·              -  ·            -  ·         29,293  ·             1  ·           -  │
·····································|·················|···············|·················|················|···············
|      vote                          ·         60,809  ·       97,831  ·         86,781  ·            25  ·           -  │
·····································|·················|···············|·················|················|···············
|  Deployments                                         ·                                 ·  % of limit    ·              │
·····································|·················|···············|·················|················|···············
|  TreasuryContract                  ·              -  ·            -  ·      2,903,477  ·         9.7 %  ·           -  │
·····································|·················|···············|·················|················|···············
|  ValidatorDAO                      ·      3,799,443  ·    3,799,455  ·      3,799,454  ·        12.7 %  ·           -  │
·····································|·················|···············|·················|················|···············
|  Key                                                                                                                   │
··························································································································
|  ◯  Execution gas for this method does not include intrinsic gas overhead                                              │
··························································································································
|  △  Cost was non-zero but below the precision setting for the currency display (see options)                           │
··························································································································
|  Toolchain:  hardhat                                                                                                   │
··························································································································
